<!doctype html>
<html>
    <head>
        <script src="node_modules/@microsoft/signalr/dist/browser/signalr.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios@0.18.0/dist/axios.min.js"></script>
    </head>
    <body onload="start();">
        <script>
            function start() {
                const connection = new signalR.HubConnectionBuilder()
                    .withUrl('http://localhost:7071/api')
                    .configureLogging(signalR.LogLevel.Information)
                    .build();

                connection.on('agencyCheckStarted', (request) => {
                    console.log('agency check started');
                    console.log(request);
                });

                connection.on('agencyCheckComplete', (result) => {
                    console.log('agency check complete');
                    console.log(result);
                });

                connection.on('loanApplicationStart', (request) => {
                    console.log('loan application started');
                    console.log(request);
                });

                connection.on('loanApplicationComplete', (result) => {
                    console.log('loan application complete');
                    console.log(result);
                });

                connection.start()
                    .then(() => {})
                    .catch(console.error);
            }
        </script>
    </body>
</html>